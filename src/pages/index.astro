---
import PageLayout from "@layouts/PageLayout.astro";
import ArrowCard from "@components/ArrowCard";
import { SITE } from "@consts";
import { getLatestPosts, getLatestProjects } from "@/lib/data";
// Components
import BackgroundEffects from "@components/BackgroundEffects.astro";
import HeroSection from "@components/HeroSection.astro";
import AboutSection from "@components/AboutSection.astro";
import SkillsSection from "@components/SkillsSection.astro";
import ExperienceSection from "@components/ExperienceSection.astro";
import AchievementsSection from "@components/AchievementsSection.astro";
import ConnectSection from "@components/ConnectSection.astro";
const posts = await getLatestPosts(3);
const projects = await getLatestProjects(3);
---
<PageLayout title="Home" description={SITE.DESCRIPTION}>
  <BackgroundEffects />
  
  <!-- HERO SECTION -->
  <HeroSection />
  <div class="relative bg-white dark:bg-black">
    <div class="mx-auto max-w-4xl p-5 space-y-24 pb-16">
      <!-- ABOUT SECTION -->
      <AboutSection />
      <!-- SKILLS SECTION -->
      <SkillsSection />
      <!-- EXPERIENCE SECTION -->
      <ExperienceSection />
      <!-- ACHIEVEMENTS SECTION -->
      <AchievementsSection />
      <!-- PROJECT PREVIEW SECTION -->
      <section class="animate">
        <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-8 gap-2">
          <h2 class="text-2xl md:text-3xl font-bold text-black dark:text-white">Featured Projects</h2>
          <a href="/projects" class="group flex gap-1 items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors self-start">
            <span class="font-medium">View All Projects</span>
            <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {projects.map((project) => (
            <div class="flex h-full">
              <ArrowCard entry={project} />
            </div>
          ))}
        </div>
      </section>
      <!-- BLOG PREVIEW SECTION -->
      {posts.length > 0 && (
        <section class="animate">
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-8 gap-2">
            <h2 class="text-2xl md:text-3xl font-bold text-black dark:text-white">Latest Articles</h2>
            <a href="/blog" class="group flex gap-1 items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors self-start">
              <span class="font-medium">Read More</span>
              <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
              </svg>
            </a>
          </div>
          <div class="space-y-4">
            {posts.map((post) => (
              <div>
                <ArrowCard entry={post} />
              </div>
            ))}
          </div>
        </section>
      )}
      <!-- CONNECT SECTION -->
      <ConnectSection />
    </div>
  </div>
</PageLayout>