---
import PageLayout from "@layouts/PageLayout.astro";
import { getAllAchievements } from "@/lib/data";
import AchievementFilterableList from "@components/features/AchievementFilterableList";

const PAGE_TITLE = "Certifications & Achievements";
const PAGE_DESCRIPTION = "A collection of my certifications and achievements.";

const allAchievements = await getAllAchievements();

// Extract unique providers for filtering
const uniqueProviders = [...new Set(allAchievements.map(a => a.data.provider))];

---

<PageLayout title={PAGE_TITLE} description={PAGE_DESCRIPTION}>
  <div class="py-16 px-6 sm:px-8 md:px-12 lg:px-16 xl:px-20 relative">
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div
        class="absolute -top-32 -right-32 w-48 h-48 sm:w-64 sm:h-64 md:w-80 md:h-80 rounded-full bg-gradient-to-br from-purple-400/10 to-pink-400/10 blur-3xl">
      </div>
      <div
        class="absolute -bottom-32 -left-32 w-48 h-48 sm:w-64 sm:h-64 md:w-80 md:h-80 rounded-full bg-gradient-to-tr from-blue-400/10 to-cyan-400/10 blur-3xl">
      </div>
    </div>

    <div class="text-center mb-10 relative z-10">
      <h1
        class="text-4xl sm:text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-gray-900 via-purple-900 to-gray-900 dark:from-white dark:via-purple-300 dark:to-white bg-clip-text text-transparent">
        {PAGE_TITLE}
      </h1>
      <div
        class="w-16 h-1 bg-gradient-to-r from-purple-500 to-pink-500 mx-auto rounded-full">
      </div>
    </div>

    <AchievementFilterableList achievements={allAchievements.map(ach => ({...ach.data, slug: ach.slug}))} uniqueProviders={uniqueProviders} client:load />

  </div>
</PageLayout>